<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Downloadstream demo</title>
    <script type="module">
      import { downloadStream } from '../downloadstream.js?sw=../sw.js'

      const button = document.getElementsByTagName('button')[0]
      button.addEventListener('click', async (event) => {
        event.preventDefault()

        const outputStream = downloadStream('myfile.data').getWriter()

        const data = new Uint8Array([1,2,3,4,5,6,7])
        outputStream.write(data)
        outputStream.close()
      })
    </script>
  </head>
  <body>
    <h1>Download manually on-the-fly generated file</h1>
    <button>Download file</button>
  </body>
</html>
